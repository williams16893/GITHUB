"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["vendors-node_modules_fzy_js_index_js-node_modules_github_markdown-toolbar-element_dist_index_js"],{47142:(e,t,n)=>{n.d(t,{CD:()=>u,DU:()=>l,Gs:()=>c,m7:()=>a});var i=-1/0,l=1/0;function r(e){return e.toLowerCase()===e}function s(e){return e.toUpperCase()===e}function o(e){for(var t=e.length,n=Array(t),i="/",l=0;l<t;l++){var o=e[l];"/"===i?n[l]=.9:"-"===i||"_"===i||" "===i?n[l]=.8:"."===i?n[l]=.6:r(i)&&s(o)?n[l]=.7:n[l]=0,i=o}return n}function d(e,t,n,l){for(var r=e.length,s=t.length,d=e.toLowerCase(),c=t.toLowerCase(),a=o(t),u=0;u<r;u++){n[u]=Array(s),l[u]=Array(s);for(var f=i,m=u===r-1?-.005:-.01,h=0;h<s;h++)if(d[u]===c[h]){var w=i;u?h&&(w=Math.max(l[u-1][h-1]+a[h],n[u-1][h-1]+1)):w=-.005*h+a[h],n[u][h]=w,l[u][h]=f=Math.max(w,f+m)}else n[u][h]=i,l[u][h]=f+=m}}function c(e,t){var n=e.length,r=t.length;if(!n||!r)return i;if(n===r)return l;if(r>1024)return i;var s=Array(n),o=Array(n);return d(e,t,s,o),o[n-1][r-1]}function a(e,t){var n=e.length,l=t.length,r=Array(n);if(!n||!l)return r;if(n===l){for(var s=0;s<n;s++)r[s]=s;return r}if(l>1024)return r;var o=Array(n),c=Array(n);d(e,t,o,c);for(var a=!1,u=(s=n-1,l-1);s>=0;s--)for(;u>=0;u--)if(o[s][u]!==i&&(a||o[s][u]===c[s][u])){a=s&&u&&c[s][u]===o[s-1][u-1]+1,r[s]=u--;break}return r}function u(e,t){e=e.toLowerCase(),t=t.toLowerCase();for(var n=e.length,i=0,l=0;i<n;i+=1)if(0===(l=t.indexOf(e[i],l)+1))return!1;return!0}},51941:(e,t,n)=>{n.r(t),n.d(t,{default:()=>R});var i,l,r=function(e,t,n,i){if("a"===n&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};let s=["[data-md-button]","md-header","md-bold","md-italic","md-quote","md-code","md-link","md-image","md-unordered-list","md-ordered-list","md-task-list","md-mention","md-ref","md-strikethrough"];function o(e){let t=[];for(let n of e.querySelectorAll(s.join(", ")))n.hidden||n.offsetWidth<=0&&n.offsetHeight<=0||n.closest("markdown-toolbar")!==e||t.push(n);return t}function d(e){return function(t){(" "===t.key||"Enter"===t.key)&&(t.preventDefault(),e(t))}}let c=new WeakMap,a={"header-1":{prefix:"# "},"header-2":{prefix:"## "},"header-3":{prefix:"### "},"header-4":{prefix:"#### "},"header-5":{prefix:"##### "},"header-6":{prefix:"###### "},bold:{prefix:"**",suffix:"**",trimFirst:!0},italic:{prefix:"_",suffix:"_",trimFirst:!0},quote:{prefix:"> ",multiline:!0,surroundWithNewlines:!0},code:{prefix:"`",suffix:"`",blockPrefix:"```",blockSuffix:"```"},link:{prefix:"[",suffix:"](url)",replaceNext:"url",scanFor:"https?://"},image:{prefix:"![",suffix:"](url)",replaceNext:"url",scanFor:"https?://"},"unordered-list":{prefix:"- ",multiline:!0,unorderedList:!0},"ordered-list":{prefix:"1. ",multiline:!0,orderedList:!0},"task-list":{prefix:"- [ ] ",multiline:!0,surroundWithNewlines:!0},mention:{prefix:"@",prefixSpace:!0},ref:{prefix:"#",prefixSpace:!0},strikethrough:{prefix:"~~",suffix:"~~",trimFirst:!0}},u=class extends HTMLElement{constructor(){super();let e=()=>{let e=c.get(this);e&&H(this,e)};this.addEventListener("keydown",d(e)),this.addEventListener("click",e)}connectedCallback(){this.hasAttribute("role")||this.setAttribute("role","button")}click(){let e=c.get(this);e&&H(this,e)}},f=class extends u{constructor(){super(...arguments),i.add(this)}connectedCallback(){let e=parseInt(this.getAttribute("level")||"3",10);r(this,i,"m",l).call(this,e)}static get observedAttributes(){return["level"]}attributeChangedCallback(e,t,n){if("level"!==e)return;let s=parseInt(n||"3",10);r(this,i,"m",l).call(this,s)}};i=new WeakSet,l=function(e){if(e<1||e>6)return;let t=`${"#".repeat(e)} `;c.set(this,{prefix:t})},window.customElements.get("md-header")||(window.MarkdownHeaderButtonElement=f,window.customElements.define("md-header",f));let m=class extends u{connectedCallback(){c.set(this,{prefix:"**",suffix:"**",trimFirst:!0})}};window.customElements.get("md-bold")||(window.MarkdownBoldButtonElement=m,window.customElements.define("md-bold",m));let h=class extends u{connectedCallback(){c.set(this,{prefix:"_",suffix:"_",trimFirst:!0})}};window.customElements.get("md-italic")||(window.MarkdownItalicButtonElement=h,window.customElements.define("md-italic",h));let w=class extends u{connectedCallback(){c.set(this,{prefix:"> ",multiline:!0,surroundWithNewlines:!0})}};window.customElements.get("md-quote")||(window.MarkdownQuoteButtonElement=w,window.customElements.define("md-quote",w));let x=class extends u{connectedCallback(){c.set(this,{prefix:"`",suffix:"`",blockPrefix:"```",blockSuffix:"```"})}};window.customElements.get("md-code")||(window.MarkdownCodeButtonElement=x,window.customElements.define("md-code",x));let g=class extends u{connectedCallback(){c.set(this,{prefix:"[",suffix:"](url)",replaceNext:"url",scanFor:"https?://"})}};window.customElements.get("md-link")||(window.MarkdownLinkButtonElement=g,window.customElements.define("md-link",g));let p=class extends u{connectedCallback(){c.set(this,{prefix:"![",suffix:"](url)",replaceNext:"url",scanFor:"https?://"})}};window.customElements.get("md-image")||(window.MarkdownImageButtonElement=p,window.customElements.define("md-image",p));let E=class extends u{connectedCallback(){c.set(this,{prefix:"- ",multiline:!0,unorderedList:!0})}};window.customElements.get("md-unordered-list")||(window.MarkdownUnorderedListButtonElement=E,window.customElements.define("md-unordered-list",E));let b=class extends u{connectedCallback(){c.set(this,{prefix:"1. ",multiline:!0,orderedList:!0})}};window.customElements.get("md-ordered-list")||(window.MarkdownOrderedListButtonElement=b,window.customElements.define("md-ordered-list",b));let k=class extends u{connectedCallback(){c.set(this,{prefix:"- [ ] ",multiline:!0,surroundWithNewlines:!0})}};window.customElements.get("md-task-list")||(window.MarkdownTaskListButtonElement=k,window.customElements.define("md-task-list",k));let v=class extends u{connectedCallback(){c.set(this,{prefix:"@",prefixSpace:!0})}};window.customElements.get("md-mention")||(window.MarkdownMentionButtonElement=v,window.customElements.define("md-mention",v));let S=class extends u{connectedCallback(){c.set(this,{prefix:"#",prefixSpace:!0})}};window.customElements.get("md-ref")||(window.MarkdownRefButtonElement=S,window.customElements.define("md-ref",S));let L=class extends u{connectedCallback(){c.set(this,{prefix:"~~",suffix:"~~",trimFirst:!0})}};function A(e){let{target:t,currentTarget:n}=e;if(!(t instanceof HTMLElement))return;let i=t.closest("[data-md-button]");if(!i||i.closest("markdown-toolbar")!==n)return;let l=t.getAttribute("data-md-button"),r=a[l];r&&H(t,r)}window.customElements.get("md-strikethrough")||(window.MarkdownStrikethroughButtonElement=L,window.customElements.define("md-strikethrough",L));let C=class extends HTMLElement{connectedCallback(){this.hasAttribute("role")||this.setAttribute("role","toolbar"),this.addEventListener("keydown",y),this.setAttribute("tabindex","0"),this.addEventListener("focus",M,{once:!0}),this.addEventListener("keydown",d(A)),this.addEventListener("click",A)}disconnectedCallback(){this.removeEventListener("keydown",y)}get field(){let e,t=this.getAttribute("for");if(!t)return null;let n="getRootNode"in this?this.getRootNode():document;return(n instanceof Document||n instanceof ShadowRoot)&&(e=n.getElementById(t)),e instanceof HTMLTextAreaElement?e:null}};function M({target:e}){if(!(e instanceof Element)||e.hasAttribute("data-no-focus"))return;e.removeAttribute("tabindex");let t="0";for(let n of o(e))n.setAttribute("tabindex",t),"0"===t&&(n.focus(),t="-1")}function y(e){let t=e.key;if("ArrowRight"!==t&&"ArrowLeft"!==t&&"Home"!==t&&"End"!==t)return;let n=e.currentTarget;if(!(n instanceof HTMLElement)||n.hasAttribute("data-no-focus"))return;let i=o(n),l=i.indexOf(e.target),r=i.length;if(-1===l)return;let s=0;"ArrowLeft"===t&&(s=l-1),"ArrowRight"===t&&(s=l+1),"End"===t&&(s=r-1),s<0&&(s=r-1),s>r-1&&(s=0);for(let e=0;e<r;e+=1)i[e].setAttribute("tabindex",e===s?"0":"-1");e.preventDefault(),i[s].focus()}function T(e){return e.trim().split("\n").length>1}function W(e,t){return Array(t+1).join(e)}window.customElements.get("markdown-toolbar")||(window.MarkdownToolbarElement=C,window.customElements.define("markdown-toolbar",C));let _=null;function B(e,t){let n,i=e.value.slice(e.selectionStart,e.selectionEnd);n=t.orderedList||t.unorderedList?function(e,t){let n=e.selectionStart===e.selectionEnd,i=e.selectionStart,l=e.selectionEnd;!function(e){let t=e.value.split("\n"),n=0;for(let i=0;i<t.length;i++){let l=t[i].length+1;e.selectionStart>=n&&e.selectionStart<n+l&&(e.selectionStart=n),e.selectionEnd>=n&&e.selectionEnd<n+l&&(e.selectionEnd=n+l-1),n+=l}}(e);let r=e.value.slice(e.selectionStart,e.selectionEnd),[s,o,d]=function(e,t){let n,i,l;return l=e.orderedList?(n=P((i=j(t)).text)).text:(n=j((i=P(t)).text)).text,[i,n,l]}(t,r),c=d.split("\n").map(((e,n)=>`${$(n,t.unorderedList)}${e}`)),a=c.reduce(((e,n,i)=>e+$(i,t.unorderedList).length),0),u=c.reduce(((e,n,i)=>e+$(i,!t.unorderedList).length),0);if(s.processed)return n?l=i=Math.max(i-$(0,t.unorderedList).length,0):(i=e.selectionStart,l=e.selectionEnd-a),{text:d,selectionStart:i,selectionEnd:l};let{newlinesToAppend:f,newlinesToPrepend:m}=F(e),h=f+c.join("\n")+m;return n?l=i=Math.max(i+$(0,t.unorderedList).length+f.length,0):o.processed?(i=Math.max(e.selectionStart+f.length,0),l=e.selectionEnd+f.length+a-u):(i=Math.max(e.selectionStart+f.length,0),l=e.selectionEnd+f.length+a),{text:h,selectionStart:i,selectionEnd:l}}(e,t):t.multiline&&T(i)?function(e,t){let{prefix:n,suffix:i,surroundWithNewlines:l}=t,r=e.value.slice(e.selectionStart,e.selectionEnd),s=e.selectionStart,o=e.selectionEnd,d=r.split("\n");if(d.every((e=>e.startsWith(n)&&e.endsWith(i))))o=s+(r=d.map((e=>e.slice(n.length,e.length-i.length))).join("\n")).length;else if(r=d.map((e=>n+e+i)).join("\n"),l){let{newlinesToAppend:t,newlinesToPrepend:n}=F(e);s+=t.length,o=s+r.length,r=t+r+n}return{text:r,selectionStart:s,selectionEnd:o}}(e,t):function(e,t){let n,i,{prefix:l,suffix:r,blockPrefix:s,blockSuffix:o,replaceNext:d,prefixSpace:c,scanFor:a,surroundWithNewlines:u}=t,f=e.selectionStart,m=e.selectionEnd,h=e.value.slice(e.selectionStart,e.selectionEnd),w=T(h)&&s.length>0?`${s}\n`:l,x=T(h)&&o.length>0?`\n${o}`:r;if(c){let t=e.value[e.selectionStart-1];0===e.selectionStart||null==t||t.match(/\s/)||(w=` ${w}`)}h=N(e,w,x,t.multiline);let g=e.selectionStart,p=e.selectionEnd,E=d.length>0&&x.indexOf(d)>-1&&h.length>0;if(u){let t=F(e);n=t.newlinesToAppend,i=t.newlinesToPrepend,w=n+l,x+=i}if(h.startsWith(w)&&h.endsWith(x)){let e=h.slice(w.length,h.length-x.length);if(f===m){let t=f-w.length;g=p=t=Math.min(t=Math.max(t,g),g+e.length)}else p=g+e.length;return{text:e,selectionStart:g,selectionEnd:p}}if(E){if(a.length>0&&h.match(a)){x=x.replace(d,h);let e=w+x;return g=p=g+w.length,{text:e,selectionStart:g,selectionEnd:p}}{let e=w+h+x;return p=(g=g+w.length+h.length+x.indexOf(d))+d.length,{text:e,selectionStart:g,selectionEnd:p}}}{let e=w+h+x;g=f+w.length,p=m+w.length;let n=h.match(/^\s*|\s*$/g);if(t.trimFirst&&n){let t=n[0]||"",i=n[1]||"";e=t+w+h.trim()+x+i,g+=t.length,p-=i.length}return{text:e,selectionStart:g,selectionEnd:p}}}(e,t),function(e,{text:t,selectionStart:n,selectionEnd:i}){let l=e.selectionStart,r=e.value.slice(0,l),s=e.value.slice(e.selectionEnd);if(null===_||!0===_){e.contentEditable="true";try{_=document.execCommand("insertText",!1,t)}catch(e){_=!1}e.contentEditable="false"}if(_&&!e.value.slice(0,e.selectionStart).endsWith(t)&&(_=!1),!_){try{document.execCommand("ms-beginUndoUnit")}catch(e){}e.value=r+t+s;try{document.execCommand("ms-endUndoUnit")}catch(e){}e.dispatchEvent(new CustomEvent("input",{bubbles:!0,cancelable:!0}))}null!=n&&null!=i?e.setSelectionRange(n,i):e.setSelectionRange(l,e.selectionEnd)}(e,n)}function N(e,t,n,i=!1){if(e.selectionStart===e.selectionEnd)e.selectionStart=function(e,t){let n=t;for(;e[n]&&null!=e[n-1]&&!e[n-1].match(/\s/);)n--;return n}(e.value,e.selectionStart),e.selectionEnd=function(e,t,n){let i=t,l=n?/\n/:/\s/;for(;e[i]&&!e[i].match(l);)i++;return i}(e.value,e.selectionEnd,i);else{let i=e.selectionStart-t.length,l=e.selectionEnd+n.length,r=e.value.slice(i,e.selectionStart)===t,s=e.value.slice(e.selectionEnd,l)===n;r&&s&&(e.selectionStart=i,e.selectionEnd=l)}return e.value.slice(e.selectionStart,e.selectionEnd)}function F(e){let t,n,i=e.value.slice(0,e.selectionStart),l=e.value.slice(e.selectionEnd),r=i.match(/\n*$/),s=l.match(/^\n*/),o=r?r[0].length:0,d=s?s[0].length:0;return i.match(/\S/)&&o<2&&(t=W("\n",2-o)),l.match(/\S/)&&d<2&&(n=W("\n",2-d)),null==t&&(t=""),null==n&&(n=""),{newlinesToAppend:t,newlinesToPrepend:n}}function j(e){let t=e.split("\n"),n=/^\d+\.\s+/,i=t.every((e=>n.test(e))),l=t;return i&&(l=t.map((e=>e.replace(n,"")))),{text:l.join("\n"),processed:i}}function P(e){let t=e.split("\n"),n=t.every((e=>e.startsWith("- "))),i=t;return n&&(i=t.map((e=>e.slice(2,e.length)))),{text:i.join("\n"),processed:n}}function $(e,t){return t?"- ":`${e+1}. `}function H(e,t){let n=e.closest("markdown-toolbar");if(!(n instanceof C))return;let i=Object.assign(Object.assign({},{prefix:"",suffix:"",blockPrefix:"",blockSuffix:"",multiline:!1,replaceNext:"",prefixSpace:!1,scanFor:"",surroundWithNewlines:!1,orderedList:!1,unorderedList:!1,trimFirst:!1}),t),l=n.field;l&&(l.focus(),B(l,i))}let R=C}}]);